<!DOCTYPE html>
<html>
<head>
    <title>Trang Quản Trị Admin - choDoCu</title>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9; /* Màu nền chung */
            display: flex;
            min-height: 100vh;
        }

        /* ---------------------------------- */
        /* Thanh Sidebar */
        /* ---------------------------------- */
        .sidebar {
            width: 250px;
            background-color: #2c3e50; /* Màu nền tối cho sidebar */
            color: white;
            padding-top: 20px;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
            position: fixed; /* Giữ cố định */
            height: 100%;
            overflow-y: auto;
        }

        .sidebar a {
            padding: 15px 20px;
            text-decoration: none;
            font-size: 16px;
            color: #ecf0f1; /* Màu chữ */
            display: block;
            transition: background-color 0.3s;
            border-left: 5px solid transparent; /* Tạo không gian cho thanh active */
        }

        .sidebar a:hover, .sidebar a.active {
            background-color: #34495e; /* Màu hover */
            border-left: 5px solid #3498db; /* Màu xanh nổi bật */
            color: white;
        }

        .sidebar h3 {
            text-align: center;
            margin-bottom: 30px;
            color: #ecf0f1;
            padding: 0 20px;
        }
        
        /* Icon và Text */
        .sidebar a i {
            margin-right: 10px;
            width: 20px; /* Cố định chiều rộng icon */
            text-align: center;
        }

        /* ---------------------------------- */
        /* Phần Header và Nội dung chính */
        /* ---------------------------------- */
        .main-content {
            margin-left: 250px; /* Bằng với chiều rộng sidebar */
            flex-grow: 1;
            padding: 20px;
        }

        .header-bar {
            background: white;
            padding: 15px 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 5px;
        }
        
        .header-bar h2 {
            margin: 0;
            color: #333;
        }

        /* ---------------------------------- */
        /* Box thống kê (Dựa trên hình ảnh) */
        /* ---------------------------------- */
        .stats-grid {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-box {
            flex: 1;
            padding: 20px;
            border-radius: 8px;
            color: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            text-align: left;
        }

        .stat-box.orange { background-color: #f39c12; }
        .stat-box.green { background-color: #2ecc71; }
        .stat-box.red { background-color: #e74c3c; }
        .stat-box.blue { background-color: #3498db; }

        .stat-box .number {
            font-size: 2.2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-box .label {
            font-size: 1.0em;
            opacity: 0.9;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <div class="sidebar">
        <h3><i class="fas fa-store"></i> Chợ Đồ Cũ</h3>
        
        <div style="padding: 10px 0;">
            <a href="#" class="active"><i class="fas fa-chart-line"></i> Dashboard</a>
            
            <h4 style="color: #bdc3c7; font-size: 0.9em; padding: 10px 20px 5px;">Quản lý Chung</h4>
            
            <a href="/admin/admin_moderators.html"><i class="fas fa-user-tie"></i> Quản lý Kiểm duyệt viên</a>
            
            <a href="/admin/admin_users.html"><i class="fas fa-users"></i> Quản lý Khách hàng</a>
            
            <a href="/admin/orders.html"><i class="fas fa-file-invoice"></i> Quản lý Hóa đơn</a>
            
            <h4 style="color: #bdc3c7; font-size: 0.9em; padding: 10px 20px 5px;">Quản lý Sản phẩm</h4>
            
            <a href="/admin/products.html"><i class="fas fa-box"></i> Quản lý Sản phẩm</a>
            
            <a href="/admin/categories.html"><i class="fas fa-tags"></i> Quản lý Danh mục</a>
            
            <h4 style="color: #bdc3c7; font-size: 0.9em; padding: 10px 20px 5px;">Khác</h4>
            
            <a href="/admin/settings.html"><i class="fas fa-cog"></i> Cài đặt</a>
        </div>
    </div>

    <div class="main-content">
        <div class="header-bar">
            <h2>Dashboard Quản Trị</h2>
            <div>Xin chào, Quản trị viên</div>
            <button id="logoutButton"><i class="fas fa-sign-out-alt"></i> Đăng Xuất</button>
        </div>
        
        <div class="stats-grid">
            <div class="stat-box orange">
                <i class="fas fa-user-friends fa-2x" style="float: right;"></i>
                <div class="number">1,294</div>
                <div class="label">Visitors (Khách truy cập)</div>
            </div>
            <div class="stat-box green">
                <i class="fas fa-chart-bar fa-2x" style="float: right;"></i>
                <div class="number">$1,345</div>
                <div class="label">Sales (Doanh số)</div>
            </div>
            <div class="stat-box red">
                <i class="fas fa-bell fa-2x" style="float: right;"></i>
                <div class="number">1303</div>
                <div class="label">Subscribers (Người đăng ký)</div>
            </div>
            <div class="stat-box blue">
                <i class="fas fa-check-circle fa-2x" style="float: right;"></i>
                <div class="number">576</div>
                <div class="label">Orders (Đơn hàng)</div>
            </div>
        </div>

        <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.05);">
            <h3>Các Hoạt Động Gần Đây / Tổng quan</h3>
            <p>Đây là nơi hiển thị các widget Task, World Map, và các biểu đồ khác...</p>
        </div>

    </div>
    <script>
        // Lấy nút Đăng Xuất
        const logoutButton = document.getElementById('logoutButton');

        // Hàm xử lý Đăng Xuất
        function handleLogout() {
            // 1. XÓA TOKEN ĐĂNG NHẬP (QUAN TRỌNG NHẤT)
            // Tùy thuộc vào cách bạn lưu token (LocalStorage, SessionStorage, hoặc Cookies), 
            // bạn cần xóa nó khỏi bộ nhớ trình duyệt để đảm bảo bảo mật.
            
            // Ví dụ, nếu bạn lưu token trong LocalStorage:
            localStorage.removeItem('access_token');
            // Nếu bạn lưu tên người dùng/role:
            localStorage.removeItem('user_role');
            localStorage.removeItem('user_name');
            
            // 2. CHUYỂN HƯỚNG VỀ TRANG CHỦ HOẶC TRANG ĐĂNG NHẬP
            alert('Bạn đã đăng xuất thành công.');
            // Chuyển hướng về trang gốc http://127.0.0.1:8000/
            window.location.href = "http://127.0.0.1:8000/"; 
        }

        // Gắn sự kiện click cho nút Đăng Xuất
        logoutButton.addEventListener('click', handleLogout);

        // --- Cải tiến nhỏ: Hiển thị tên Admin (Nếu có lưu trong LocalStorage) ---
        // (Nếu bạn có lưu tên Admin sau khi đăng nhập thành công)
        const storedAdminName = localStorage.getItem('user_name');
        if (storedAdminName) {
             document.getElementById('adminName').textContent = `Xin chào, ${storedAdminName}`;
        }

    </script>
</body>
</html>