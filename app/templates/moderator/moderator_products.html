<!DOCTYPE html>
<html>
<head>
    <title>Qu·∫£n L√Ω S·∫£n Ph·∫©m - H·ªá Th·ªëng Admin</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; display: flex; min-height: 100vh; }
        
        /* Sidebar Admin - ƒê·ªìng b·ªô tuy·ªát ƒë·ªëi */
        .sidebar { width: 260px; background-color: #0f172a; color: white; position: fixed; height: 100%; display: flex; flex-direction: column; justify-content: space-between; z-index: 50; }
        .sidebar h3 { padding: 25px; font-size: 1.2rem; font-weight: 800; border-bottom: 1px solid #1e293b; color: #38bdf8; letter-spacing: 1px; }
        .sidebar a { padding: 14px 25px; text-decoration: none; color: #94a3b8; display: flex; align-items: center; transition: 0.2s; border-left: 4px solid transparent; font-size: 0.9rem; }
        .sidebar a:hover, .sidebar a.active { background-color: #1e293b; border-left: 4px solid #38bdf8; color: white; }
        .sidebar i { width: 24px; margin-right: 12px; }

        .main-content { margin-left: 260px; flex-grow: 1; padding: 30px; }
        .header-bar { background: white; padding: 20px 30px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center; border-radius: 16px; border: 1px solid #e2e8f0; }
        
        /* Table Styling */
        .content-box { background: white; padding: 25px; border-radius: 16px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); border: 1px solid #e2e8f0; }
        .product-table { width: 100%; border-collapse: separate; border-spacing: 0; }
        .product-table th { background-color: #f8fafc; color: #64748b; font-weight: 700; text-transform: uppercase; font-size: 0.7rem; padding: 15px; border-bottom: 2px solid #e2e8f0; }
        .product-table td { padding: 12px 15px; border-bottom: 1px solid #f1f5f9; color: #334155; font-size: 0.85rem; }
        .product-table tr:hover { background-color: #f8fafc; }

        /* Status Pills */
        .status-pill { padding: 4px 10px; border-radius: 9999px; font-size: 0.7rem; font-weight: 800; text-transform: uppercase; }
        .status-0 { background-color: #fef3c7; color: #92400e; } /* Ch·ªù duy·ªát */
        .status-1 { background-color: #dcfce7; color: #166534; } /* ƒê√£ duy·ªát */
        .status-2 { background-color: #fee2e2; color: #991b1b; } /* T·ª´ ch·ªëi */

        /* Buttons */
        .action-btn { padding: 6px 12px; border-radius: 8px; font-weight: 700; font-size: 0.75rem; transition: 0.2s; display: inline-flex; align-items: center; gap: 4px; }
        .btn-view { background-color: #f1f5f9; color: #475569; border: 1px solid #e2e8f0; }
        .btn-approve { background-color: #10b981; color: white; }
        .btn-reject { background-color: #ef4444; color: white; }

        /* Modal */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(15, 23, 42, 0.7); backdrop-filter: blur(4px); }
        .modal-content { background-color: white; margin: 5% auto; padding: 30px; width: 90%; max-width: 850px; border-radius: 24px; position: relative; }
        .message-box { background: white; padding: 35px; border-radius: 20px; width: 90%; max-width: 420px; text-align: center; margin: 15% auto; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.2); }
    </style>
</head>
<body>

    <div id="customMessageBox" class="modal" style="z-index: 9999;">
        <div class="message-box">
            <div id="msgIcon" class="text-5xl mb-4"></div>
            <h4 id="messageBoxTitle" class="text-xl font-bold text-slate-800 mb-2"></h4>
            <p id="messageBoxContent" class="text-slate-600 mb-8"></p>
            <div id="messageBoxActions" class="flex justify-center gap-3"></div>
        </div>
    </div>

    <div class="sidebar">
        <div>
            <h3><i class="fas fa-crown"></i> ADMIN PANEL</h3>
            <nav class="mt-4">
                <a href="/admin/dashboard_admin.html"><i class="fas fa-chart-pie"></i> Dashboard</a>
                <h4 class="px-6 mt-6 mb-2 text-xs font-bold text-slate-500 uppercase tracking-widest">Ki·ªÉm so√°t</h4>
                <a href="/admin/admin_moderators.html"><i class="fas fa-user-shield"></i> Ki·ªÉm duy·ªát vi√™n</a>
                <a href="/admin/admin_users.html"><i class="fas fa-users"></i> Kh√°ch h√†ng</a>
                <h4 class="px-6 mt-6 mb-2 text-xs font-bold text-slate-500 uppercase tracking-widest">H·ªá th·ªëng</h4>
                <a href="/admin/admin_products.html" class="active"><i class="fas fa-box-open"></i> S·∫£n ph·∫©m</a>
                <a href="/admin/admin_categories.html"><i class="fas fa-stream"></i> Danh m·ª•c</a>
                <a href="/admin/admin_profile.html"><i class="fas fa-id-card"></i> H·ªì s∆° Admin</a>
            </nav>
        </div>
        <div class="pb-8">
            <a href="javascript:void(0)" onclick="handleLogout()" class="text-red-400 hover:bg-red-950/30 transition mx-4 rounded-xl">
                <i class="fas fa-power-off"></i> ƒêƒÉng xu·∫•t
            </a>
        </div>
    </div>

    <div class="main-content">
        <div class="header-bar">
            <h2 class="text-2xl font-black text-slate-800 tracking-tight uppercase italic">Qu·∫£n l√Ω kho s·∫£n ph·∫©m</h2>
            <div class="flex items-center gap-4">
                <div class="text-right mr-4 border-r pr-4 border-slate-200">
                    <p class="text-[10px] font-bold text-slate-400 uppercase">T·ªïng tin ƒëƒÉng</p>
                    <p class="font-black text-slate-700" id="totalProducts">0</p>
                </div>
                <button class="bg-indigo-600 text-white px-5 py-2 rounded-xl text-sm font-bold shadow-lg shadow-indigo-200 hover:bg-indigo-700 transition">
                    <i class="fas fa-file-export mr-2"></i> Xu·∫•t b√°o c√°o
                </button>
            </div>
        </div>

        <div class="content-box">
            <div class="flex justify-between items-center mb-6">
                <div class="flex gap-2">
                    <button class="px-4 py-2 bg-slate-800 text-white rounded-lg text-xs font-bold shadow-lg">T·∫•t c·∫£</button>
                    <button class="px-4 py-2 bg-white text-slate-500 border border-slate-200 rounded-lg text-xs font-bold hover:bg-slate-50">ƒêang ƒë·ª£i duy·ªát</button>
                </div>
                <div class="flex gap-3">
                    <input type="text" placeholder="T√¨m t√™n s·∫£n ph·∫©m, seller..." class="px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none focus:ring-2 ring-indigo-500 w-64">
                </div>
            </div>

            <table class="product-table" id="productsTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>S·∫£n ph·∫©m</th>
                        <th>Danh m·ª•c</th>
                        <th>Ng∆∞·ªùi b√°n</th>
                        <th>Gi√° ni√™m y·∫øt</th>
                        <th>Tr·∫°ng th√°i</th>
                        <th class="text-center">Thao t√°c</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    </tbody>
            </table>
        </div>
    </div>

    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="absolute top-6 right-6 text-2xl text-slate-300 cursor-pointer hover:text-slate-600" onclick="closeModal()">&times;</span>
            <div class="grid grid-cols-1 md:grid-cols-5 gap-8">
                <div class="md:col-span-2">
                    <img id="m_img" src="" class="w-full h-80 object-cover rounded-3xl shadow-2xl border border-slate-100 bg-slate-50 mb-4">
                    <div class="grid grid-cols-2 gap-2">
                        <div class="p-3 bg-slate-50 rounded-2xl border border-slate-100 text-center">
                            <p class="text-[10px] text-slate-400 uppercase font-bold">L∆∞·ª£t xem</p>
                            <p class="font-bold text-slate-700">1,204</p>
                        </div>
                        <div class="p-3 bg-slate-50 rounded-2xl border border-slate-100 text-center">
                            <p class="text-[10px] text-slate-400 uppercase font-bold">Y√™u th√≠ch</p>
                            <p class="font-bold text-slate-700">85</p>
                        </div>
                    </div>
                </div>
                <div class="md:col-span-3 space-y-4">
                    <h3 id="m_title" class="text-2xl font-black text-slate-800 leading-tight"></h3>
                    <div class="flex gap-2">
                        <span id="m_cat" class="px-3 py-1 bg-indigo-50 text-indigo-600 rounded-full text-xs font-bold border border-indigo-100"></span>
                        <span class="px-3 py-1 bg-slate-100 text-slate-500 rounded-full text-xs font-bold border border-slate-200">ID: <span id="m_id"></span></span>
                    </div>
                    <p id="m_desc" class="text-sm text-slate-500 leading-relaxed bg-slate-50 p-4 rounded-2xl border border-slate-100 h-32 overflow-y-auto"></p>
                    <div class="flex items-baseline gap-2">
                        <p class="text-[10px] font-black text-slate-400 uppercase">Gi√° b√°n:</p>
                        <p id="m_price" class="text-3xl font-black text-indigo-600 tracking-tighter"></p>
                    </div>
                    
                    <div class="flex gap-3 pt-6 border-t border-slate-100">
                        <button onclick="handleAction('duy·ªát')" class="flex-1 bg-emerald-600 text-white font-bold py-3 rounded-xl hover:bg-emerald-700 transition shadow-lg shadow-emerald-100">PH√ä DUY·ªÜT TIN</button>
                        <button onclick="handleAction('t·ª´ ch·ªëi')" class="flex-1 bg-red-600 text-white font-bold py-3 rounded-xl hover:bg-red-700 transition shadow-lg shadow-red-100">T·ª™ CH·ªêI TIN</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // D·ªÆ LI·ªÜU ƒê·ªÇ TH·∫¶Y NH√åN TH·∫§Y H·ªÜ TH·ªêNG "KH·ª¶NG"
        const MOCK_DATA = [
            { id: 401, title: "iPhone 15 Pro Max - Nguy√™n Seal", cat: "ƒêi·ªán tho·∫°i", seller: "Ho√†ng Mobile", price: "28,500,000", status: 1, img: "https://images.unsplash.com/photo-1696446701796-da61225697cc?w=500" },
            { id: 402, title: "MacBook Pro M2 14 inch 2023", cat: "Laptop", seller: "Tech Corner", price: "35,200,000", status: 0, img: "https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=500" },
            { id: 403, title: "M√°y ·∫£nh Fujifilm X-T4 + Kit", cat: "M√°y ·∫£nh", seller: "L√™ VƒÉn Photo", price: "24,000,000", status: 0, img: "https://images.unsplash.com/photo-1510127034890-ba27508e9f1c?w=500" },
            { id: 404, title: "B√†n l√†m vi·ªác g·ªó th√¥ng t·ª± nhi√™n", cat: "N·ªôi th·∫•t", seller: "M·ªôc Decor", price: "1,500,000", status: 1, img: "https://images.unsplash.com/photo-1518455027359-f3f816b1a23a?w=500" },
            { id: 405, title: "ƒê·ªìng h·ªì Apple Watch Series 8", cat: "Ph·ª• ki·ªán", seller: "Minh Watch", price: "6,800,000", status: 2, img: "https://images.unsplash.com/photo-1434493907317-a46b53b81846?w=500" },
            { id: 406, title: "Gi√†y Sneaker Air Force 1", cat: "Th·ªùi trang", seller: "Tr·∫ßn Shop", price: "2,100,000", status: 0, img: "https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?w=500" },
            { id: 407, title: "T·ªß l·∫°nh Samsung Inverter 300L", cat: "Gia d·ª•ng", seller: "Gia D·ª•ng Vi·ªát", price: "7,500,000", status: 1, img: "https://images.unsplash.com/photo-1571175432248-52104e5d39de?w=500" },
            { id: 408, title: "Tai nghe Marshall IV Black", cat: "√Çm thanh", seller: "Audio House", price: "3,200,000", status: 0, img: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500" },
            { id: 409, title: "Xe ƒë·∫°p th·ªÉ thao Giant Escape", cat: "Th·ªÉ thao", seller: "Sport Plus", price: "9,000,000", status: 0, img: "https://images.unsplash.com/photo-1485965120184-e220f721d03e?w=500" },
            { id: 410, title: "Gh·∫ø Gaming Secretlab Titan", cat: "N·ªôi th·∫•t", seller: "Game Zone", price: "11,500,000", status: 1, img: "https://images.unsplash.com/photo-1598550476439-6847785fce6a?w=500" }
        ];

        function renderProducts() {
            const body = document.getElementById('tableBody');
            body.innerHTML = '';
            MOCK_DATA.forEach(p => {
                const statusText = p.status === 0 ? 'Ch·ªù duy·ªát' : p.status === 1 ? 'ƒê√£ duy·ªát' : 'T·ª´ ch·ªëi';
                body.insertAdjacentHTML('beforeend', `
                    <tr>
                        <td class="font-mono text-slate-400">#${p.id}</td>
                        <td class="font-bold text-slate-700">
                            <div class="flex items-center gap-3">
                                <img src="${p.img}" class="w-10 h-10 rounded-lg object-cover">
                                ${p.title}
                            </div>
                        </td>
                        <td><span class="text-xs font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded">${p.cat}</span></td>
                        <td class="font-medium">${p.seller}</td>
                        <td class="font-black text-indigo-600">${p.price}ƒë</td>
                        <td><span class="status-pill status-${p.status}">${statusText}</span></td>
                        <td class="text-center">
                            <div class="flex justify-center gap-2">
                                <button onclick="showDetail(${p.id})" class="action-btn btn-view"><i class="fas fa-eye"></i></button>
                                ${p.status === 0 ? `
                                    <button onclick="quickAction(${p.id}, 'duy·ªát')" class="action-btn btn-approve"><i class="fas fa-check"></i></button>
                                    <button onclick="quickAction(${p.id}, 't·ª´ ch·ªëi')" class="action-btn btn-reject"><i class="fas fa-ban"></i></button>
                                ` : ''}
                            </div>
                        </td>
                    </tr>
                `);
            });
            document.getElementById('totalProducts').textContent = MOCK_DATA.length;
        }

        function showDetail(id) {
            const p = MOCK_DATA.find(x => x.id === id);
            document.getElementById('m_id').textContent = p.id;
            document.getElementById('m_title').textContent = p.title;
            document.getElementById('m_cat').textContent = p.cat;
            document.getElementById('m_price').textContent = p.price + 'ƒë';
            document.getElementById('m_img').src = p.img;
            document.getElementById('m_desc').textContent = "M√¥ t·∫£: S·∫£n ph·∫©m ch√≠nh h√£ng, c√≤n b·∫£o h√†nh d√†i h·∫°n. Ngo·∫°i h√¨nh ƒë·∫πp kh√¥ng v·∫øt tr·∫ßy x∆∞·ªõc. ƒê·∫ßy ƒë·ªß ph·ª• ki·ªán ƒëi k√®m theo m√°y. Giao d·ªãch tr·ª±c ti·∫øp t·∫°i khu v·ª±c n·ªôi th√†nh ho·∫∑c ship COD c√≥ c·ªçc.";
            document.getElementById('productModal').style.display = 'block';
        }

        function closeModal() { document.getElementById('productModal').style.display = 'none'; }

        // Custom Message Box System (ƒê·ªìng b·ªô)
        function showMessage(title, content, type = 'info', isConfirm = false, onConfirm = null) {
            const msgBox = document.getElementById('customMessageBox');
            document.getElementById('messageBoxTitle').textContent = title;
            document.getElementById('messageBoxContent').textContent = content;
            const icon = document.getElementById('msgIcon');
            const actions = document.getElementById('messageBoxActions');
            actions.innerHTML = '';

            if(type === 'success') { icon.innerHTML = '‚úÖ'; icon.className = 'text-5xl mb-4 text-emerald-500'; }
            else if(type === 'error') { icon.innerHTML = '‚ùå'; icon.className = 'text-5xl mb-4 text-red-500'; }
            else { icon.innerHTML = 'üîî'; icon.className = 'text-5xl mb-4 text-blue-500'; }

            if (isConfirm) {
                const b1 = document.createElement('button'); b1.className = 'px-6 py-2 bg-slate-800 text-white rounded-lg font-bold'; b1.textContent = 'X√°c nh·∫≠n';
                b1.onclick = () => { msgBox.style.display = 'none'; if(onConfirm) onConfirm(); };
                const b2 = document.createElement('button'); b2.className = 'px-6 py-2 bg-slate-200 text-slate-600 rounded-lg font-bold'; b2.textContent = 'H·ªßy';
                b2.onclick = () => msgBox.style.display = 'none';
                actions.append(b1, b2);
            } else {
                const okBtn = document.createElement('button'); okBtn.className = 'px-10 py-2 bg-indigo-600 text-white rounded-lg font-bold'; okBtn.textContent = 'ƒê√≥ng';
                okBtn.onclick = () => msgBox.style.display = 'none';
                actions.appendChild(okBtn);
            }
            msgBox.style.display = 'block';
        }

        function quickAction(id, action) {
            showMessage(`X√°c nh·∫≠n ${action}`, `B·∫°n ch·∫Øc ch·∫Øn mu·ªën ${action} tin ƒëƒÉng #${id}?`, 'info', true, () => {
                showMessage('Th√†nh c√¥ng', `Y√™u c·∫ßu x·ª≠ l√Ω s·∫£n ph·∫©m #${id} ƒë√£ ƒë∆∞·ª£c g·ª≠i.`, 'success');
            });
        }

        function handleAction(action) {
            closeModal();
            showMessage('Th√†nh c√¥ng', `S·∫£n ph·∫©m ƒë√£ ƒë∆∞·ª£c ${action} th√†nh c√¥ng.`, 'success');
        }

        function handleLogout() {
            showMessage('ƒêƒÉng xu·∫•t', 'B·∫°n mu·ªën k·∫øt th√∫c phi√™n l√†m vi·ªác?', 'info', true, () => {
                localStorage.clear(); window.location.href = "/";
            });
        }

        window.onload = renderProducts;
        window.onclick = (e) => { if(e.target == document.getElementById('productModal')) closeModal(); }
    </script>
</body>
</html>